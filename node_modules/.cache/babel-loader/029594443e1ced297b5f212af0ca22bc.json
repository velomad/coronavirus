{"ast":null,"code":"import axios from \"axios\";\nexport const GET_LIVE_STATS = \"GET_LIVE_STATS\";\nexport const ERROR_LIVE_STATS = \"ERROR_LIVE_STATS\";\nexport const FETCHING_LIVE_STATS = \"FETCHING_LIVE_STATS\";\nexport const GET_STATES_DATA = \"GET_STATES_DATA\";\nexport const GET_TIME_SERIES = \"GET_TIME_SERIES\";\nexport const GET_TEST_SAMPLES = \"GET_TEST_SAMPLES\";\nexport const GET_FACTOIDS = \"GET_FACTOIDS\";\nexport const getLiveStatsAction = () => {\n  return dispatch => {\n    dispatch({\n      type: FETCHING_LIVE_STATS\n    });\n    const statsRequest = \"https://api.covid19india.org/data.json\";\n    const factoidsRequest = \"https://api.covid19india.org/website_data.json\";\n    const statsResp = axios.get(statsRequest);\n    const factoidsResp = axios.get(factoidsRequest);\n    axios.all([statsResp, factoidsResp]).then(axios.spread((...allData) => {\n      const allDataStats = allData[0];\n      const allDataFactoids = allData[1];\n      console.log(allDataFactoids);\n      dispatch({\n        type: GET_LIVE_STATS,\n        payload: allDataStats.data.statewise[0]\n      });\n      dispatch({\n        type: GET_STATES_DATA,\n        payload: allDataStats.data.statewise.slice(1, -1)\n      });\n      dispatch({\n        type: GET_TIME_SERIES,\n        payload: allDataStats.data.cases_time_series\n      });\n      dispatch({\n        type: GET_TEST_SAMPLES,\n        payload: allDataStats.data.tested\n      });\n      dispatch({\n        type: GET_FACTOIDS,\n        payload: allDataFactoids.data\n      });\n    })).catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR_LIVE_STATS,\n        payload: 'Error. Try again'\n      });\n    });\n  };\n};","map":{"version":3,"sources":["D:/Users/sagar/Desktop/projects/React projects/coronavirus/src/store/actions/statActions.js"],"names":["axios","GET_LIVE_STATS","ERROR_LIVE_STATS","FETCHING_LIVE_STATS","GET_STATES_DATA","GET_TIME_SERIES","GET_TEST_SAMPLES","GET_FACTOIDS","getLiveStatsAction","dispatch","type","statsRequest","factoidsRequest","statsResp","get","factoidsResp","all","then","spread","allData","allDataStats","allDataFactoids","console","log","payload","data","statewise","slice","cases_time_series","tested","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B;AACP,OAAO,MAAMC,eAAe,GAAG,iBAAxB;AACP,OAAO,MAAMC,eAAe,GAAG,iBAAxB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,YAAY,GAAG,cAArB;AAGP,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AACtC,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP;AAAR,KAAD,CAAR;AACA,UAAMQ,YAAY,GAAG,wCAArB;AACA,UAAMC,eAAe,GAAG,gDAAxB;AAEA,UAAMC,SAAS,GAAGb,KAAK,CAACc,GAAN,CAAUH,YAAV,CAAlB;AACA,UAAMI,YAAY,GAAGf,KAAK,CAACc,GAAN,CAAUF,eAAV,CAArB;AACAZ,IAAAA,KAAK,CACFgB,GADH,CACO,CAACH,SAAD,EAAYE,YAAZ,CADP,EAEGE,IAFH,CAEQjB,KAAK,CAACkB,MAAN,CAAa,CAAC,GAAGC,OAAJ,KAAgB;AACjC,YAAMC,YAAY,GAAGD,OAAO,CAAC,CAAD,CAA5B;AACA,YAAME,eAAe,GAAGF,OAAO,CAAC,CAAD,CAA/B;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYF,eAAZ;AACAZ,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAACT,cAAN;AAAsBuB,QAAAA,OAAO,EAACJ,YAAY,CAACK,IAAb,CAAkBC,SAAlB,CAA4B,CAA5B;AAA9B,OAAD,CAAR;AACAjB,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAACN,eAAN;AAAuBoB,QAAAA,OAAO,EAACJ,YAAY,CAACK,IAAb,CAAkBC,SAAlB,CAA4BC,KAA5B,CAAkC,CAAlC,EAAqC,CAAC,CAAtC;AAA/B,OAAD,CAAR;AACAlB,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAACL,eAAN;AAAuBmB,QAAAA,OAAO,EAACJ,YAAY,CAACK,IAAb,CAAkBG;AAAjD,OAAD,CAAR;AACAnB,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAACJ,gBAAN;AAAwBkB,QAAAA,OAAO,EAACJ,YAAY,CAACK,IAAb,CAAkBI;AAAlD,OAAD,CAAR;AACApB,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAACH,YAAN;AAAoBiB,QAAAA,OAAO,EAACH,eAAe,CAACI;AAA5C,OAAD,CAAR;AACD,KATK,CAFR,EAYGK,KAZH,CAYUC,GAAD,IAAS;AACdT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACAtB,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAACR,gBAAN;AAAwBsB,QAAAA,OAAO,EAAC;AAAhC,OAAD,CAAR;AACD,KAfH;AAgBD,GAvBD;AAwBD,CAzBM","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const GET_LIVE_STATS = \"GET_LIVE_STATS\";\r\nexport const ERROR_LIVE_STATS = \"ERROR_LIVE_STATS\";\r\nexport const FETCHING_LIVE_STATS = \"FETCHING_LIVE_STATS\";\r\nexport const GET_STATES_DATA = \"GET_STATES_DATA\";\r\nexport const GET_TIME_SERIES = \"GET_TIME_SERIES\";\r\nexport const GET_TEST_SAMPLES = \"GET_TEST_SAMPLES\";\r\nexport const GET_FACTOIDS = \"GET_FACTOIDS\";\r\n\r\n\r\nexport const getLiveStatsAction = () => {\r\n  return (dispatch) => {\r\n    dispatch({ type: FETCHING_LIVE_STATS });\r\n    const statsRequest = \"https://api.covid19india.org/data.json\"\r\n    const factoidsRequest = \"https://api.covid19india.org/website_data.json\"\r\n\r\n    const statsResp = axios.get(statsRequest)\r\n    const factoidsResp = axios.get(factoidsRequest)\r\n    axios\r\n      .all([statsResp, factoidsResp])\r\n      .then(axios.spread((...allData) => {\r\n        const allDataStats = allData[0]\r\n        const allDataFactoids = allData[1]\r\n        console.log(allDataFactoids)\r\n        dispatch({type:GET_LIVE_STATS, payload:allDataStats.data.statewise[0]})  \r\n        dispatch({type:GET_STATES_DATA, payload:allDataStats.data.statewise.slice(1, -1)})\r\n        dispatch({type:GET_TIME_SERIES, payload:allDataStats.data.cases_time_series})\r\n        dispatch({type:GET_TEST_SAMPLES, payload:allDataStats.data.tested})\r\n        dispatch({type:GET_FACTOIDS, payload:allDataFactoids.data})\r\n      }))\r\n      .catch((err) => {\r\n        console.log(err);\r\n        dispatch({type:ERROR_LIVE_STATS, payload:'Error. Try again'})\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}